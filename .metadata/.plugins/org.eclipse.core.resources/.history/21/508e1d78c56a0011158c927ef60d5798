package no.ntnu.fp.net.network;

import java.util.concurrent.BlockingQueue;

import no.ntnu.fp.storage.db.Database;

public class Worker extends Database implements Runnable {
	//Fields
	private BlockingQueue<String> inQueue;
	
	
	//Constructor
	public Worker(BlockingQueue<String> inQueue){
		//Setup connection to db
		super();
		System.out.println("The connection is made...");
		this.inQueue = inQueue;
	}
	
	//Methods
	@Override
	public void run() {
		// TODO Auto-generated method stub
		System.out.println("Created worker thread");
		while(true){
			try {
				Thread.currentThread().sleep(5000);
				System.out.println("Print hei");
				if(!inQueue.isEmpty()){
					String data = inQueue.take();
					System.out.println("Data: "+data);
				}
			} catch (InterruptedException e1) {
				// TODO Auto-generated catch block
				e1.printStackTrace();
			}
			
			
		}
	}
	
	
	
}
